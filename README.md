# golang的定时任务

## 用法(usage)

引入
~~~go
import "github.com/goodluckxu-go/crontab"
~~~

调用方法
~~~go
func main() {
    go crontab.NewCron("* * * 29 * 2").
        SetFun(func(ctx *crontab.Context) {
        // 定时任务执行地方
        }).
        SetBeforeTime(time.Now()). // 设置上次执行时间，可不设置
        Run()
    crontab.Wait() // 等待终止命令
}
~~~

crontab.NewCron方法注解
~~~
1. * * * * * * 表示 秒 分 时 日 月 周
2. 秒(0-59)，分(0-59)，时(0-23)，日(1-31)，月(1-12)，周(0-6)0表示星期天
3. *支持的符号为 ','，'/'，'-' 三种
4. ','表示分割多个，如：1,2,3 * * * * * 表示 1，2，3秒执行
5. '-'表示执行区间，如：1-5 * * * * * 表示1-5秒直接的秒都执行包含1和5
6. '/'表示每执行，如：*/2 * * * * * 表示每2秒执行一次
7. 特殊如：4/2 * * * * * 表示从第4秒开始每2秒执行
8. 特殊如：4-50/2 * * * * * 表示在4-50秒区间每2秒执行一次
9. 特殊如：1,2,3,4-5,*/10 * * * * * 表示1,2,3秒执行一次，4-5区间都执行一次，每10秒执行一次。
10. 多个规则直接重复的数只计数1次
~~~

crontab.Context注解
~~~go
ctx.Stop() // 表示停止该定时任务
ctx.BeginTime() // 表示该执行任务执行的开始时间
~~~